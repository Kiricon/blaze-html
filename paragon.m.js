const t=new Map;class e{constructor(t,e,s,n=m){this.strings=t,this.values=e,this.type=s,this.partCallback=n}getHTML(){const t=this.strings.length-1;let e="",s=!0;for(let o=0;o<t;o++){const t=this.strings[o];e+=t;const r=a(t);e+=(s=r>-1?r<t.length:s)?i:n}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}function s(e,s,n=function(e){let s=t.get(e.type);void 0===s&&(s=new Map,t.set(e.type,s));let n=s.get(e.strings);return void 0===n&&(n=new h(e,e.getTemplateElement()),s.set(e.strings,n)),n}){const i=n(e);let o=s.__templateInstance;if(void 0!==o&&o.template===i&&o._partCallback===e.partCallback)return void o.update(e.values);o=new v(i,e.partCallback,n),s.__templateInstance=o;const r=o._clone();o.update(e.values),g(s,s.firstChild),s.appendChild(r)}const n=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${n}--\x3e`,o=new RegExp(`${n}|${i}`),r=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function a(t){const e=t.lastIndexOf(">");return t.indexOf("<",e+1)>-1?t.length:e}class l{constructor(t,e,s,n,i){this.type=t,this.index=e,this.name=s,this.rawName=n,this.strings=i}}class h{constructor(t,e){this.parts=[],this.element=e;const s=document.createTreeWalker(this.element.content,133,null,!1);let i=-1,a=0;const h=[];let c,u;for(;s.nextNode();){i++,c=u;const e=u=s.currentNode;if(1===e.nodeType){if(!e.hasAttributes())continue;const s=e.attributes;let h=0;for(let t=0;t<s.length;t++)s[t].value.indexOf(n)>=0&&h++;for(;h-- >0;){const n=r.exec(t.strings[a])[1],h=s.getNamedItem(n),c=h.value.split(o);this.parts.push(new l("attribute",i,h.name,n,c)),e.removeAttribute(h.name),a+=c.length-1}}else if(3===e.nodeType){const t=e.nodeValue;if(t.indexOf(n)<0)continue;const s=e.parentNode,r=t.split(o),h=r.length-1;a+=h,e.textContent=r[h];for(let t=0;t<h;t++)s.insertBefore(document.createTextNode(r[t]),e),this.parts.push(new l("node",i++))}else if(8===e.nodeType&&e.nodeValue===n){const t=e.parentNode,s=e.previousSibling;null===s||s!==c||s.nodeType!==Node.TEXT_NODE?t.insertBefore(document.createTextNode(""),e):i--,this.parts.push(new l("node",i++)),h.push(e),null===e.nextSibling?t.insertBefore(document.createTextNode(""),e):i--,u=c,a++}}for(const t of h)t.parentNode.removeChild(t)}}const c=(t,e)=>u(e)?(e=e(t),p):null===e?void 0:e,u=t=>"function"==typeof t&&!0===t.__litDirective,p={},d=t=>null===t||!("object"==typeof t||"function"==typeof t);class f{constructor(t,e,s,n){this.instance=t,this.element=e,this.name=s,this.strings=n,this.size=n.length-1,this._previousValues=[]}_interpolate(t,e){const s=this.strings,n=s.length-1;let i="";for(let o=0;o<n;o++){i+=s[o];const n=c(this,t[e+o]);if(n&&n!==p&&(Array.isArray(n)||"string"!=typeof n&&n[Symbol.iterator]))for(const t of n)i+=t;else i+=n}return i+s[n]}_equalToPreviousValues(t,e){for(let s=e;s<e+this.size;s++)if(this._previousValues[s]!==t[s]||!d(t[s]))return!1;return!0}setValue(t,e){if(this._equalToPreviousValues(t,e))return;const s=this.strings;let n;2===s.length&&""===s[0]&&""===s[1]?(n=c(this,t[e]),Array.isArray(n)&&(n=n.join(""))):n=this._interpolate(t,e),n!==p&&this.element.setAttribute(this.name,n),this._previousValues=t}}class _{constructor(t,e,s){this.instance=t,this.startNode=e,this.endNode=s,this._previousValue=void 0}setValue(t){if((t=c(this,t))!==p)if(d(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof e?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_setNode(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}_setText(t){const e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}_setTemplateResult(t){const e=this.instance._getTemplate(t);let s;this._previousValue&&this._previousValue.template===e?s=this._previousValue:(s=new v(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(s._clone()),this._previousValue=s),s.update(t.values)}_setIterable(t){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const e=this._previousValue;let s=0;for(const n of t){let t=e[s];if(void 0===t){let n=this.startNode;if(s>0){n=e[s-1].endNode=document.createTextNode(""),this._insert(n)}t=new _(this.instance,n,this.endNode),e.push(t)}t.setValue(n),s++}if(0===s)this.clear(),this._previousValue=void 0;else if(s<e.length){const t=e[s-1];e.length=s,this.clear(t.endNode.previousSibling),t.endNode=this.endNode}}_setPromise(t){this._previousValue=t,t.then(e=>{this._previousValue===t&&this.setValue(e)})}clear(t=this.startNode){g(this.startNode.parentNode,t.nextSibling,this.endNode)}}const m=(t,e,s)=>{if("attribute"===e.type)return new f(t,s,e.name,e.strings);if("node"===e.type)return new _(t,s,s.nextSibling);throw new Error(`Unknown part type ${e.type}`)};class v{constructor(t,e,s){this._parts=[],this.template=t,this._partCallback=e,this._getTemplate=s}update(t){let e=0;for(const s of this._parts)void 0===s.size?(s.setValue(t[e]),e++):(s.setValue(t,e),e+=s.size)}_clone(){const t=document.importNode(this.template.element.content,!0),e=this.template.parts;if(e.length>0){const s=document.createTreeWalker(t,133,null,!1);let n=-1;for(let t=0;t<e.length;t++){const i=e[t];for(;n<i.index;)n++,s.nextNode();this._parts.push(this._partCallback(this,i,s.currentNode))}}return t}}const g=(t,e,s=null)=>{let n=e;for(;n!==s;){const e=n.nextSibling;t.removeChild(n),n=e}},x=(t,...s)=>new e(t,s,"html",N),N=(t,e,s)=>{if("attribute"===e.type){if(e.rawName.startsWith("on-")){return new class{constructor(t,e,s){this.instance=t,this.element=e,this.eventName=s}setValue(t){const e=c(this,t),s=this._listener;e!==s&&(this._listener=e,null!=s&&this.element.removeEventListener(this.eventName,s),null!=e&&this.element.addEventListener(this.eventName,e))}}(t,s,e.rawName.slice(3))}if(e.name.endsWith("$")){const n=e.name.slice(0,-1);return new f(t,s,n,e.strings)}if(e.name.endsWith("?")){return new class extends f{setValue(t,e){const s=this.strings;if(2!==s.length||""!==s[0]||""!==s[1])throw new Error("boolean attributes can only contain a single expression");{const s=c(this,t[e]);if(s===p)return;s?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}(t,s,e.name.slice(0,-1),e.strings)}return new class extends f{setValue(t,e){const s=this.strings;let n;this._equalToPreviousValues(t,e)||((n=2===s.length&&""===s[0]&&""===s[1]?c(this,t[e]):this._interpolate(t,e))!==p&&(this.element[this.name]=n),this._previousValues=t)}}(t,s,e.rawName,e.strings)}return m(t,e,s)};var b=function(t,e){e=e||!1;var n=function(t){function n(){t.call(this),e?(this.attachShadow({mode:"open"}),s(this.template(this.state),this.shadowRoot)):s(this.template(this.state),this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n}(t);customElements.define([].concat(t.name).map(function(t,e){return t<"a"?0!==e?"-"+t.toLowerCase():t.toLowerCase():t}).join(""),n)},y=function(t){this.state=t||{},this._subscriptions=[]};y.prototype.getState=function(){return this.state},y.prototype.subscribe=function(t){this._subscriptions.push(t)},y.prototype.setState=function(t){var e=this.state,s={};for(var n in this.state)s[n]=this.state[n];for(var i in t)s[i]=t[i];this.state=s,this._callSubcriptions(e)},y.prototype._callSubcriptions=function(t){for(var e=0;e<this._subscriptions.length;e++)this._subscriptions[e](this.state,t)};var w=function(t){return new y(t)},T=function(t){function e(){var e=this;t.call(this),this._state=w({}),this.state=this._state.getState(),this._state.subscribe(function(t){s(e.template(t),e.shadowRoot?e.shadowRoot:e)})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.connectedCallback=function(){"function"==typeof this.connected&&this.connected()},e.prototype.setState=function(t){this._state.setState(t),this.state=this._state.getState()},e.prototype.query=function(t){return this.shadowRoot?this.shadowRoot.querySelector(t):this.querySelector(t)},e}(HTMLElement);export{x as html,b as register,T as Paragon,w as createStore};
//# sourceMappingURL=paragon.m.js.map
